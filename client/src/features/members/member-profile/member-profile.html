@if(memberService.member(); as member) {
<div class="min-h-screen bg-base-200 py-10">
    <div class="max-w-6xl mx-auto px-6 space-y-10">

        <!-- PROFIEL HEADER -->
        <section class="card bg-base-100 shadow">
            <div class="card-body flex flex-col md:flex-row items-center gap-6">

                <div class="avatar">
                    <div class="w-24 rounded-full bg-primary text-primary-content flex items-center justify-center">
                        <span class="text-3xl font-bold">A</span>
                        <!-- of <app-mascot-icon /> -->
                    </div>
                </div>

                <div class="text-center md:text-left">
                    <h1 class="text-3xl font-bold">Welkom terug, {{member.displayName}} ðŸ‘‹</h1>
                    <p class="opacity-70">
                        Je leert momenteel <strong>Engels</strong>
                    </p>
                    <div class="mt-2 badge badge-primary badge-lg">
                        ðŸ”¥ 12 dagen streak
                    </div>
                </div>

                <div class="ml-auto">
                    <button class="btn btn-primary" (click)="openStudyModal()">
                        Ga verder met oefenen
                    </button>
                </div>
            </div>
        </section>

        <!-- VOORTGANG -->
        <section class="grid grid-cols-1 md:grid-cols-4 gap-6">
            <div class="stat bg-base-100 shadow rounded-box">
                <div class="stat-title">Lessen voltooid</div>
                <div class="stat-value text-primary">48</div>
            </div>

            <div class="stat bg-base-100 shadow rounded-box">
                <div class="stat-title">Woordenschat</div>
                <div class="stat-value text-primary">620</div>
                <div class="stat-desc">woorden geleerd</div>
            </div>

            <div class="stat bg-base-100 shadow rounded-box">
                <div class="stat-title">Niveau</div>
                <div class="stat-value text-primary">B1</div>
            </div>

            <div class="stat bg-base-100 shadow rounded-box">
                <div class="stat-title">Oefentijd</div>
                <div class="stat-value text-primary">15 min</div>
                <div class="stat-desc">per dag</div>
            </div>
        </section>

        <!-- TALEN -->
        <section class="card bg-base-100 shadow">
            <div class="card-body">
                <div class="flex flex-wrap gap-3">
                    <h2 class="card-title">Mijn talen</h2>
                    <button class="w-10 h-10 rounded-full cursor-pointer" (click)="openModal()">
                        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" strokeWidth={1.5}
                            stroke="green" className="size-6">
                            <path strokeLinecap="round" strokeLinejoin="round"
                                d="M12 9v6m3-3H9m12 0a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z" />
                        </svg>

                    </button>
                </div>


                <div class="flex flex-wrap gap-4 mt-2">


                    @for (deck of member.decks; track $index) {
                    <button class="btn btn-success btn-outline btn-sm w-fit" (click)="onClickSelectedDeck(deck)">
                        {{deck.deckName}}</button>

                    }

                    <!-- <div class="badge badge-outline badge-lg">ðŸ‡ªðŸ‡¸ Spaans</div>
                    <button class="btn btn-sm btn-outline">
                        + Taal toevoegen
                    </button> -->
                </div>
            </div>
        </section>


        <!-- VOORTGANG GRAFIEKEN -->
        @if (selectedDeck(); as deck) {
        <!-- <section class="grid grid-cols-1 md:grid-cols-2 gap-6"> -->
        <section class="card bg-base-100 shadow">
            <!-- Les voortgang -->
            <div class="card bg-base-100 shadow">
                <div class="card-body">
                    <h2 class="card-title">{{deck.deckName}}</h2>
                    <p class="text-sm opacity-70 mb-4">Overzicht van je voltooide lessen</p>
                    <app-progress-chart 
                        [deckId]="deck.deckId" 
                        [height]="'300px'" 
                        [width]="'300px'"
                        [showLegend]="true">
                    </app-progress-chart>

                </div>
            </div>
        </section>
        }


        <!-- INSTELLINGEN -->
        <section class="card bg-base-100 shadow">
            <div class="card-body">
                <h2 class="card-title">Account</h2>

                <div class="flex flex-col gap-3">
                    <a class="link link-hover">Profiel bewerken</a>
                    <a class="link link-hover">Leerdoelen aanpassen</a>
                    <a class="link link-hover">Notificatie-instellingen</a>
                </div>
            </div>
        </section>

    </div>
</div>
}@else {
<p>Nothing</p>
}
<app-memberdeck-modal #languageDialog />